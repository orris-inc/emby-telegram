# Emby Telegram Bot

ä¸€ä¸ªç”¨äºç®¡ç† Emby è´¦å·çš„ Telegram Botï¼Œæä¾›è´¦å·åˆ›å»ºã€ç»­æœŸã€æŸ¥è¯¢ç­‰åŠŸèƒ½ã€‚

## ç‰¹æ€§

âœ… **è´¦å·ç®¡ç†**
- åˆ›å»º Emby è´¦å·ï¼ˆè‡ªåŠ¨ç”Ÿæˆå¼ºå¯†ç ï¼‰
- æŸ¥çœ‹è´¦å·åˆ—è¡¨å’Œè¯¦æƒ…
- ç»­æœŸè´¦å·
- ä¿®æ”¹å¯†ç 
- è®¾ç½®å®¶é•¿æ§åˆ¶è¯„çº§
- æš‚åœ/æ¿€æ´»è´¦å·
- è‡ªåŠ¨åŒæ­¥åˆ° Emby æœåŠ¡å™¨

âœ… **ç”¨æˆ·ç®¡ç†**
- è‡ªåŠ¨ç”¨æˆ·æ³¨å†Œ
- è§’è‰²ç®¡ç†ï¼ˆç®¡ç†å‘˜/æ™®é€šç”¨æˆ·ï¼‰
- ç”¨æˆ·å°ç¦/è§£å°
- æˆæƒåˆ¶è´¦å·åˆ›å»ºï¼ˆé…é¢ç®¡ç†ï¼‰
- ç¾¤ç»„/ç§èŠç¯å¢ƒéš”ç¦»

âœ… **å®‰å…¨ç‰¹æ€§**
- bcrypt å¯†ç åŠ å¯†
- æƒé™éªŒè¯
- æ‰€æœ‰æƒæ£€æŸ¥

âœ… **Emby é›†æˆ**
- è‡ªåŠ¨åŒæ­¥è´¦å·åˆ° Emby æœåŠ¡å™¨
- æ£€æŸ¥ Emby è¿æ¥çŠ¶æ€
- æŸ¥çœ‹è´¦å·åŒæ­¥çŠ¶æ€
- æ‰‹åŠ¨åŒæ­¥åŠŸèƒ½
- ç¦»çº¿æ¨¡å¼æ”¯æŒï¼ˆEmby ä¸å¯ç”¨æ—¶ï¼‰

âœ… **ç”¨æˆ·ä½“éªŒ**
- æŒ‰é’®å¼äº¤äº’ç•Œé¢ï¼ˆInline Keyboard + Reply Keyboardï¼‰
- è¾“å…¥æ¡†å›ºå®šå¿«æ·æŒ‰é’®
- å‘½ä»¤èœå•æ”¯æŒï¼ˆç‚¹å‡» / å¿«é€Ÿé€‰æ‹©å‘½ä»¤ï¼‰
- å¯¹è¯å¼çŠ¶æ€æœºï¼ˆæ”¯æŒå¤šæ­¥éª¤æ“ä½œï¼‰

âœ… **æŠ€æœ¯ç‰¹æ€§**
- é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰
- éµå¾ª Google Go æœ€ä½³å®è·µ
- æ¥å£åœ¨æ¶ˆè´¹ç«¯å®šä¹‰
- SQLite æ•°æ®åº“ï¼ˆå¯æ‰©å±•è‡³ MySQL/PostgreSQLï¼‰
- ç»“æ„åŒ–æ—¥å¿—ï¼ˆZapï¼‰
- é…ç½®çƒ­åŠ è½½ï¼ˆViperï¼‰
- ä¼˜é›…é™çº§ï¼ˆEmby ç¦»çº¿æ¨¡å¼ï¼‰

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Go 1.24 æˆ–æ›´é«˜ç‰ˆæœ¬
- Telegram Bot Tokenï¼ˆä» [@BotFather](https://t.me/BotFather) è·å–ï¼‰
- Emby æœåŠ¡å™¨ï¼ˆå¯é€‰ï¼Œç”¨äºè´¦å·åŒæ­¥ï¼‰
- Emby API Keyï¼ˆå¯é€‰ï¼Œä» Emby æ§åˆ¶å°è·å–ï¼‰

### å®‰è£…

1. **å…‹éš†é¡¹ç›®**

```bash
git clone https://github.com/yourusername/emby-telegram.git
cd emby-telegram
```

2. **å®‰è£…ä¾èµ–**

```bash
make deps
```

æˆ–è€…

```bash
go mod download
```

3. **é…ç½® Bot**

åˆ›å»ºé…ç½®æ–‡ä»¶æˆ–è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œè®¾ç½®ä½ çš„é…ç½®ï¼š

```env
# Telegram Bot é…ç½®
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Emby æœåŠ¡å™¨é…ç½®ï¼ˆå¯é€‰ï¼‰
EMBY_SERVER_URL=http://localhost:8096
EMBY_API_KEY=your_emby_api_key_here
```

æˆ–è€…å¤åˆ¶å¹¶ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š

```bash
cp configs/config.example.yaml configs/config.yaml
```

ç¼–è¾‘ `configs/config.yaml`ï¼š

```yaml
telegram:
  token: "your_bot_token_here"
  admin_ids:
    - 123456789  # æ›¿æ¢ä¸ºä½ çš„ Telegram ID

emby:
  server_url: "http://localhost:8096"
  api_key: "your_emby_api_key_here"
  enable_sync: true
  sync_on_create: true
  sync_on_delete: true
```

### è¿è¡Œ

**å¼€å‘æ¨¡å¼:**

```bash
make run
```

**ç¼–è¯‘åè¿è¡Œ:**

```bash
make build
./bin/emby-bot
```

## é¡¹ç›®ç»“æ„

```
emby-telegram/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ server/          # åº”ç”¨å…¥å£
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ account/         # è´¦å·é¢†åŸŸ
â”‚   â”œâ”€â”€ user/            # ç”¨æˆ·é¢†åŸŸ
â”‚   â”œâ”€â”€ storage/         # å­˜å‚¨å®ç°
â”‚   â”‚   â””â”€â”€ sqlite/      # SQLite å®ç°
â”‚   â”œâ”€â”€ bot/             # Telegram Bot
â”‚   â”œâ”€â”€ config/          # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ logger/          # æ—¥å¿—å°è£…
â”œâ”€â”€ pkg/                 # å…¬å…±å·¥å…·åŒ…
â”‚   â”œâ”€â”€ crypto/          # åŠ å¯†å·¥å…·
â”‚   â”œâ”€â”€ timeutil/        # æ—¶é—´å·¥å…·
â”‚   â””â”€â”€ validator/       # éªŒè¯å·¥å…·
â”œâ”€â”€ configs/             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ data/                # æ•°æ®åº“æ–‡ä»¶
â””â”€â”€ Makefile             # æ„å»ºè„šæœ¬
```

## ä½¿ç”¨æŒ‡å—

### ä¸‰ç§äº¤äº’æ–¹å¼

æœ¬ Bot æ”¯æŒä¸‰ç§æ“ä½œæ–¹å¼ï¼Œé€‰æ‹©ä½ å–œæ¬¢çš„ï¼š

1. **å›ºå®šæŒ‰é’®**ï¼ˆæ¨èï¼‰: è¾“å…¥æ¡†ä¸‹æ–¹æœ‰å›ºå®šçš„å¿«æ·æŒ‰é’®ï¼Œç‚¹å‡»å³å¯æ“ä½œ
   - ğŸ“‹ æˆ‘çš„è´¦å·
   - â• åˆ›å»ºè´¦å·
   - â“ å¸®åŠ©
   - ğŸ”‘ ç®¡ç†å‘˜èœå•ï¼ˆä»…ç®¡ç†å‘˜ï¼‰

2. **å‘½ä»¤èœå•**: ç‚¹å‡»è¾“å…¥æ¡†å·¦ä¾§çš„ `/` æŒ‰é’®ï¼Œå¿«é€Ÿé€‰æ‹©å‘½ä»¤

3. **æ‰‹åŠ¨è¾“å…¥**: ç›´æ¥è¾“å…¥å‘½ä»¤å’Œå‚æ•°

### åŸºç¡€å‘½ä»¤

- `/start` - å¼€å§‹ä½¿ç”¨ï¼Œæ˜¾ç¤ºä¸»èœå•
- `/help` - æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯

### è´¦å·ç®¡ç†

é€šè¿‡ç‚¹å‡»æŒ‰é’®æˆ–ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

- `/myaccounts` - æŸ¥çœ‹æˆ‘çš„æ‰€æœ‰è´¦å·
- `/quota` - æŸ¥çœ‹æˆæƒçŠ¶æ€å’Œé…é¢ä¿¡æ¯ï¼ˆç§èŠï¼‰
- `/create <ç”¨æˆ·å>` - åˆ›å»ºæ–°è´¦å·ï¼ˆéœ€è¦æˆæƒï¼‰
- `/info <ç”¨æˆ·å>` - æŸ¥çœ‹è´¦å·è¯¦æƒ…
- `/renew <ç”¨æˆ·å> <å¤©æ•°>` - ç»­æœŸè´¦å·
- `/changepassword <ç”¨æˆ·å> <æ–°å¯†ç >` - ä¿®æ”¹å¯†ç 
- `/syncstatus <ç”¨æˆ·å>` - æŸ¥çœ‹è´¦å·åŒæ­¥çŠ¶æ€

**æŒ‰é’®æ“ä½œ**ï¼š
- ç‚¹å‡» "ğŸ“‹ æˆ‘çš„è´¦å·" æŸ¥çœ‹è´¦å·åˆ—è¡¨
- ç‚¹å‡»è´¦å·åç§°æŸ¥çœ‹è¯¦æƒ…
- åœ¨è´¦å·è¯¦æƒ…é¡µå¯ä»¥ï¼šç»­æœŸã€æ”¹å¯†ã€è®¾ç½®è¯„çº§ã€åŒæ­¥çŠ¶æ€ã€åˆ é™¤ï¼ˆç®¡ç†å‘˜ï¼‰

### ç®¡ç†å‘˜å‘½ä»¤

**é…é¢ç®¡ç†**ï¼ˆç¾¤ç»„ï¼‰ï¼š
- `/grant <ç”¨æˆ·> [é…é¢]` - æˆæƒç”¨æˆ·åˆ›å»ºè´¦å·ï¼ˆé…é¢é»˜è®¤ä¸º 1ï¼‰
  - æ”¯æŒå›å¤æ¶ˆæ¯ï¼š`[å›å¤ç›®æ ‡æ¶ˆæ¯] /grant` æˆ– `/grant 3`
  - æ”¯æŒ @mentionï¼š`/grant @username` æˆ– `/grant @username 3`
  - æ”¯æŒ IDï¼š`/grant 123456789` æˆ– `/grant 123456789 3`
  - è®¾ç½®ä¸º 0 å¯æ”¶å›æƒé™
  - ç¾¤ç»„æ¶ˆæ¯å°†åœ¨ 30 ç§’åè‡ªåŠ¨åˆ é™¤

**è´¦å·ç®¡ç†**ï¼š
- `/admin` - æ˜¾ç¤ºç®¡ç†å‘˜é¢æ¿
- `/users [é¡µç ]` - åˆ—å‡ºæ‰€æœ‰ç”¨æˆ·
- `/accounts [é¡µç ]` - åˆ—å‡ºæ‰€æœ‰è´¦å·
- `/deleteaccount <ç”¨æˆ·å>` - åˆ é™¤è´¦å·
- `/suspend <ç”¨æˆ·å>` - æš‚åœè´¦å·
- `/activate <ç”¨æˆ·å>` - æ¿€æ´»è´¦å·
- `/setrole <telegram_id> <admin|user>` - è®¾ç½®ç”¨æˆ·è§’è‰²
- `/blockuser <telegram_id>` - å°ç¦ç”¨æˆ·
- `/unblockuser <telegram_id>` - è§£å°ç”¨æˆ·
- `/stats` - æŸ¥çœ‹ç³»ç»Ÿç»Ÿè®¡

### Emby ç®¡ç†å‘½ä»¤

- `/checkemby` - æ£€æŸ¥ Emby æœåŠ¡å™¨è¿æ¥çŠ¶æ€
- `/syncaccount <ç”¨æˆ·å> <å¯†ç >` - æ‰‹åŠ¨åŒæ­¥è´¦å·åˆ° Emby
- `/embyusers` - åˆ—å‡º Emby æœåŠ¡å™¨ä¸Šçš„æ‰€æœ‰ç”¨æˆ·

### ä½¿ç”¨ç¤ºä¾‹

**æˆæƒæµç¨‹ï¼ˆç®¡ç†å‘˜åœ¨ç¾¤ç»„ï¼‰**ï¼š
```
# ç”¨æˆ·åœ¨ç¾¤é‡Œç”³è¯·
ç”¨æˆ·ï¼šæˆ‘æƒ³è¦åˆ›å»ºè´¦å·

# ç®¡ç†å‘˜å›å¤è¯¥æ¶ˆæ¯æˆæƒï¼ˆé»˜è®¤ 1 ä¸ªé…é¢ï¼‰
ç®¡ç†å‘˜ï¼š[å›å¤è¯¥æ¶ˆæ¯] /grant
Botï¼šâœ… å·²æˆæƒ @username åˆ›å»ºè´¦å·ï¼Œé…é¢: 1 ä¸ª

# æˆ–è€…æˆæƒæŒ‡å®šé…é¢
ç®¡ç†å‘˜ï¼š[å›å¤è¯¥æ¶ˆæ¯] /grant 3
Botï¼šâœ… å·²æˆæƒ @username åˆ›å»ºè´¦å·ï¼Œé…é¢: 3 ä¸ª

# æˆ–è€…ä½¿ç”¨ @mention
ç®¡ç†å‘˜ï¼š/grant @username
ç®¡ç†å‘˜ï¼š/grant @username 3

æ³¨æ„ï¼šç¾¤ç»„æ¶ˆæ¯å°†åœ¨ 30 ç§’åè‡ªåŠ¨åˆ é™¤
```

**ç”¨æˆ·åˆ›å»ºè´¦å·ï¼ˆç§èŠï¼‰**ï¼š
```
# æŸ¥çœ‹é…é¢
/quota

# åˆ›å»ºè´¦å·
/create john

# æŸ¥çœ‹è´¦å·ä¿¡æ¯
/info john

# ç»­æœŸ30å¤©
/renew john 30

# ä¿®æ”¹å¯†ç 
/changepassword john newpassword123
```

## é…ç½®è¯´æ˜

### é…ç½®æ–‡ä»¶ (configs/config.yaml)

```yaml
app:
  name: "Emby Telegram Bot"
  version: "1.0.0"
  debug: false

telegram:
  token: ""  # Bot Token
  timeout: 60
  admin_ids:  # ç®¡ç†å‘˜ Telegram ID
    - 123456789

database:
  driver: "sqlite"
  dsn: "data/emby.db"

account:
  default_expire_days: 30
  default_max_devices: 3
  username_prefix: ""
  password_length: 12
  max_accounts_per_user: 3
  max_accounts_per_admin: -1

emby:
  server_url: "http://localhost:8096"
  api_key: ""  # Emby API Key
  enable_sync: true
  sync_on_create: true
  sync_on_delete: true
  timeout: 30
  retry_count: 3

log:
  level: "info"
  output: "stdout"
```

### ç¯å¢ƒå˜é‡

- `TELEGRAM_BOT_TOKEN` - Bot Tokenï¼ˆå¿…éœ€ï¼‰
- `EMBY_SERVER_URL` - Emby æœåŠ¡å™¨åœ°å€ï¼ˆå¯é€‰ï¼‰
- `EMBY_API_KEY` - Emby API Keyï¼ˆå¯é€‰ï¼‰
- `DB_DRIVER` - æ•°æ®åº“é©±åŠ¨ï¼ˆå¯é€‰ï¼‰
- `DB_DSN` - æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ï¼ˆå¯é€‰ï¼‰
- `APP_ENV` - åº”ç”¨ç¯å¢ƒï¼ˆå¯é€‰ï¼‰
- `LOG_LEVEL` - æ—¥å¿—çº§åˆ«ï¼ˆå¯é€‰ï¼‰

### è´¦å·é…ç½®è¯´æ˜

- `default_expire_days`: é»˜è®¤è´¦å·æœ‰æ•ˆæœŸï¼ˆå¤©ï¼Œé»˜è®¤ 30ï¼‰
- `default_max_devices`: é»˜è®¤æœ€å¤§è®¾å¤‡æ•°ï¼ˆé»˜è®¤ 3ï¼‰
- `username_prefix`: è´¦å·ç”¨æˆ·åå‰ç¼€ï¼ˆç•™ç©ºåˆ™ä¸æ·»åŠ å‰ç¼€ï¼‰
- `password_length`: è‡ªåŠ¨ç”Ÿæˆå¯†ç é•¿åº¦ï¼ˆé»˜è®¤ 12ï¼‰
- `default_quota`: æ–°ç”¨æˆ·é»˜è®¤é…é¢ï¼ˆé»˜è®¤ 0ï¼Œéœ€è¦ç®¡ç†å‘˜æˆæƒï¼‰
- `max_accounts_per_user`: æ™®é€šç”¨æˆ·æœ€å¤§è´¦å·æ•°é‡ï¼ˆæŠ€æœ¯ä¸Šé™ï¼Œé»˜è®¤ 99ï¼‰
- `max_accounts_per_admin`: ç®¡ç†å‘˜æœ€å¤§è´¦å·æ•°é‡ï¼ˆé»˜è®¤ -1ï¼Œè¡¨ç¤ºæ— é™åˆ¶ï¼‰

**æˆæƒåˆ¶åº¦**:
- æ–°ç”¨æˆ·æ³¨å†Œåé»˜è®¤é…é¢ä¸º 0ï¼Œæ— æ³•åˆ›å»ºè´¦å·
- ç®¡ç†å‘˜é€šè¿‡ `/grant` å‘½ä»¤åœ¨ç¾¤ç»„ä¸­æˆæƒç”¨æˆ·
- é…é¢è¡¨ç¤ºç”¨æˆ·å¯ä»¥æŒæœ‰çš„è´¦å·æ€»æ•°ï¼ˆä¸Šé™ï¼‰
- å·²åˆ›å»ºçš„è´¦å·ä¸å—é…é¢è°ƒæ•´å½±å“ï¼ˆæ”¶å›é…é¢ä¸ä¼šåˆ é™¤å·²æœ‰è´¦å·ï¼‰
- è¶…è¿‡é…é¢åæ— æ³•åˆ›å»ºæ–°è´¦å·ï¼Œéœ€åˆ é™¤ç°æœ‰è´¦å·æˆ–ç”³è¯·æ›´å¤šé…é¢

### Emby é…ç½®è¯´æ˜

- `enable_sync`: æ˜¯å¦å¯ç”¨ Emby åŒæ­¥ï¼ˆé»˜è®¤ trueï¼‰
- `sync_on_create`: åˆ›å»ºè´¦å·æ—¶è‡ªåŠ¨åŒæ­¥åˆ° Embyï¼ˆé»˜è®¤ trueï¼‰
- `sync_on_delete`: åˆ é™¤è´¦å·æ—¶ä» Emby åˆ é™¤ï¼ˆé»˜è®¤ trueï¼‰
- `timeout`: HTTP è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼Œé»˜è®¤ 30ï¼‰
- `retry_count`: å¤±è´¥é‡è¯•æ¬¡æ•°ï¼ˆé»˜è®¤ 3ï¼‰

**ç¦»çº¿æ¨¡å¼**: å¦‚æœ Emby æœåŠ¡å™¨ä¸å¯ç”¨æˆ–é…ç½®æœªè®¾ç½®ï¼ŒBot ä¼šè‡ªåŠ¨é™çº§ä¸ºç¦»çº¿æ¨¡å¼ï¼Œåªåœ¨æœ¬åœ°æ•°æ®åº“ç®¡ç†è´¦å·ã€‚

## å¼€å‘

### Makefile å‘½ä»¤

```bash
make help          # æ˜¾ç¤ºå¸®åŠ©
make build         # ç¼–è¯‘é¡¹ç›®
make run           # è¿è¡Œé¡¹ç›®
make test          # è¿è¡Œæµ‹è¯•
make test-cover    # æµ‹è¯•è¦†ç›–ç‡
make clean         # æ¸…ç†ç¼–è¯‘æ–‡ä»¶
make deps          # ä¸‹è½½ä¾èµ–
make fmt           # æ ¼å¼åŒ–ä»£ç 
make vet           # ä»£ç æ£€æŸ¥
make lint          # Lint æ£€æŸ¥ï¼ˆéœ€è¦ golangci-lintï¼‰
make all           # å®Œæ•´æ„å»ºæµç¨‹
```

### ä»£ç è§„èŒƒ

æœ¬é¡¹ç›®éµå¾ª [Google Go Style Guide](https://google.github.io/styleguide/go/)ï¼š

- Context ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°
- æ¥å£å®šä¹‰åœ¨æ¶ˆè´¹ç«¯
- é”™è¯¯å¤„ç†å¸¦ä¸Šä¸‹æ–‡ä¿¡æ¯
- ä½¿ç”¨ `%w` åŒ…è£…é”™è¯¯
- ç®€æ´çš„å‘½åè§„èŒƒ
- è¡¨é©±åŠ¨æµ‹è¯•

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨å¯¹åº”çš„é¢†åŸŸåŒ…ä¸­å®šä¹‰å®ä½“å’Œæ¥å£
2. å®ç°ä¸šåŠ¡é€»è¾‘ï¼ˆService å±‚ï¼‰
3. å®ç°å­˜å‚¨å±‚ï¼ˆå¦‚éœ€è¦ï¼‰
4. æ·»åŠ  Bot å‘½ä»¤å¤„ç†å™¨
5. æ³¨å†Œå‘½ä»¤åˆ° `internal/bot/command.go`

## æ¶æ„è®¾è®¡

### é¢†åŸŸé©±åŠ¨è®¾è®¡

- **é¢†åŸŸå±‚**: å®ä½“ã€æ¥å£ã€é¢†åŸŸæœåŠ¡ (`internal/account/`, `internal/user/`)
- **åŸºç¡€è®¾æ–½å±‚**: æ•°æ®åº“ã€å­˜å‚¨å®ç° (`internal/storage/`)
- **æ¥å£å±‚**: Telegram Bot å‘½ä»¤å¤„ç† (`internal/bot/`)
- **æ¨ªåˆ‡å…³æ³¨ç‚¹**: æ—¥å¿—ã€é…ç½®ã€å·¥å…· (`internal/logger/`, `internal/config/`, `pkg/`)

### å…³é”®è®¾è®¡åŸåˆ™

âœ… æŒ‰ä¸šåŠ¡åŸŸç»„ç»‡ä»£ç 
âœ… æ¥å£åœ¨æ¶ˆè´¹ç«¯å®šä¹‰
âœ… ä¾èµ–å€’ç½®åŸåˆ™
âœ… å•ä¸€èŒè´£åŸåˆ™
âœ… é”™è¯¯å¤„ç†è§„èŒƒåŒ–

## å®‰å…¨å»ºè®®

1. **ä¿æŠ¤ Bot Token**: ä¸è¦å°† Token æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
2. **ä¿æŠ¤ Emby API Key**: ä¸è¦å°† API Key æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
3. **æ•°æ®åº“å¤‡ä»½**: å®šæœŸå¤‡ä»½ SQLite æ•°æ®åº“æ–‡ä»¶
4. **ç®¡ç†å‘˜è®¾ç½®**: åœ¨é…ç½®æ–‡ä»¶ä¸­æ­£ç¡®è®¾ç½®ç®¡ç†å‘˜ ID
5. **æ—¥å¿—å®‰å…¨**: ä¸è¦åœ¨æ—¥å¿—ä¸­è®°å½•å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯
6. **ç½‘ç»œå®‰å…¨**: å¦‚æœ Emby æœåŠ¡å™¨åœ¨å…¬ç½‘ï¼Œå»ºè®®ä½¿ç”¨ HTTPS

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: Bot æ— æ³•å¯åŠ¨ï¼Ÿ**

A: æ£€æŸ¥é…ç½®æ–‡ä»¶ä¸­çš„ Bot Token æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿ç½‘ç»œå¯ä»¥è®¿é—® Telegram APIã€‚

**Q: æ•°æ®åº“è¿ç§»å¤±è´¥ï¼Ÿ**

A: ç¡®ä¿ `data/` ç›®å½•å­˜åœ¨ä¸”æœ‰å†™å…¥æƒé™ï¼Œæ£€æŸ¥ SQLite æ˜¯å¦æ­£ç¡®å®‰è£…ã€‚

**Q: å‘½ä»¤æ— å“åº”ï¼Ÿ**

A: æ£€æŸ¥æ—¥å¿—è¾“å‡ºï¼Œç¡®è®¤ç”¨æˆ·æ˜¯å¦è¢«å°ç¦ï¼Œå‘½ä»¤å‚æ•°æ˜¯å¦æ­£ç¡®ã€‚

**Q: Emby åŒæ­¥å¤±è´¥ï¼Ÿ**

A: ä½¿ç”¨ `/checkemby` æ£€æŸ¥ Emby æœåŠ¡å™¨è¿æ¥çŠ¶æ€ï¼Œç¡®è®¤ API Key æ˜¯å¦æ­£ç¡®ï¼Œä½¿ç”¨ `/syncstatus <ç”¨æˆ·å>` æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯ã€‚

**Q: Bot å¯åŠ¨æ—¶ Emby è¿æ¥å¤±è´¥ï¼Ÿ**

A: Bot ä¼šè‡ªåŠ¨é™çº§ä¸ºç¦»çº¿æ¨¡å¼ï¼Œåªåœ¨æœ¬åœ°æ•°æ®åº“ç®¡ç†è´¦å·ã€‚ä¿®å¤ Emby é…ç½®åé‡å¯ Bot å³å¯æ¢å¤åŒæ­¥åŠŸèƒ½ã€‚

## è®¸å¯è¯

[MIT License](LICENSE)

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è‡´è°¢

- [telegram-bot-api](https://github.com/go-telegram-bot-api/telegram-bot-api)
- [GORM](https://gorm.io/)
- [Viper](https://github.com/spf13/viper)
- [Zap](https://github.com/uber-go/zap)